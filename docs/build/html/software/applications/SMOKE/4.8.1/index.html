

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SMOKE 4.8.1 Installation &mdash; apolo-docs 0.1 documentation</title>
      <link rel="stylesheet" href="../../../../_static/css/theme_overrides.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/sidebar.css" type="text/css" />

  
      <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../../_static/documentation_options.js?v=2709fde1"></script>
      <script src="../../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Google Sparsehash" href="../../sparsehash/index.html" />
    <link rel="prev" title="SMOKE" href="../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

  
    <a href="../../../../index.html" class="icon icon-home"> apolo-docs
  

  
    </a>

    

    
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../gettingstarted/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../supercomputers/index.html">Supercomputers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">Software</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../virtualization/index.html">Virtualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../programminglanguages/index.html">Programming Languages</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">Scientific Applications</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../abyss/index.html">ABySS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ansys/index.html">ANSYS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../arcs/index.html">ARCS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../autoDock/index.html">AutoDock</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../autoDock_Vina/index.html">autoDock_Vina</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bayescan/index.html">BayeScan</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../BEAST2/index.html">BEAST2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../BLAST/index.html">BLAST</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../blat/index.html">BLAT</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bowtie2/index.html">bowtie2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Bpp/index.html">Bpp</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../BWA/index.html">BWA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../CDO/index.html">CDO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../CHARMM/index.html">CHARMM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Calculix/index.html">Calculix</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../clustalw/index.html">Clustalw</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../crystal/index.html">crystal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../curl/index.html">Curl</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Cufflinks/index.html">Cufflinks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../delft3D/index.html">delft3D</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../DL_POLY_Classic/index.html">DL_POLY_Classic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../edge_pro/index.html">EDGE-pro</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../elmer/index.html">elmer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../fastQC/index.html">fastQC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../gamess/index.html">gamess</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../garli/index.html">garli</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../gatk4/index.html">GATK4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../gromacs/index.html">GROMACS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../gromacs-ls/index.html">GROMACS-LS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../gurobi/index.html">gurobi</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../iqtree/index.html">IQ-TREE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../kraken/index.html">Kraken</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ioapi/index.html">IOAPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lammps/index.html">LAMMPS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../leDock/index.html">leDock</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lePro/index.html">lePro</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../links/index.html">LINKS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lotos_euros/index.html">Lotos Euros</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../mafft/index.html">MAFFT</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../mdstress-lib/index.html">MDSTRESS-LIB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../MedeA/index.html">MedeA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../mothur/index.html">Mothur</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../mpich/index.html">MPICH</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../mrBayes/index.html">mrBayes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../MUSCLE/index.html">MUSCLE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../namd/index.html">NAMD</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ncl/index.html">ncl</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../NCAR-ncl/index.html">NCAR NCL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../OpenFOAM/index.html">OpenFOAM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../openquake/index.html">OpenQuake</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../opensees/index.html">OpenSees</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ost/index.html">Openstructure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pargenes/index.html">ParGenes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../partitionFinder/index.html">Partition Finder</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../phylonet/index.html">PhyloNet</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../picrust2/index.html">PICRUSt2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pigz/index.html">Pigz</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plumed/index.html">Plumed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../prank/index.html">Prank</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../prinseq-lite/index.html">Prinseq-lite</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pteros/index.html">Pteros</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyrad/index.html">pyrad</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../QE/index.html">QE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../qiime2/index.html">Qiime2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../raxml/index.html">RAxML</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../rDock/index.html">rDock</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../repet/index.html">REPET</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SAMtools/index.html">SAMtools</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">SMOKE</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">SMOKE 4.8.1 Installation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../sparsehash/index.html">Google Sparsehash</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../stacks/index.html">stacks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tigmint/index.html">Tigmint</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../topHat/index.html">TopHat</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../transabyss/index.html">Trans-ABySS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../transrate/index.html">Transrate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../trimmomatic/index.html">trimmomatic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../trinity/index.html">Trinity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../USPEX/index.html">USPEX</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../VASP/index.html">VASP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vmd/index.html">VMD</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vsearch/index.html">vsearch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../wps/index.html">Wps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../wrf/index.html">WRF</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../makedepf90/index.html">Makedepf90</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Geant4/index.html">GEANT4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ROOT/index.html">ROOT</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../managementsoftware/index.html">Management Software</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../provisioning/index.html">Provisioning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../monitoring/index.html">Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../operatingsystems/index.html">Operating Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../scientific_libraries/index.html">Scientific Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../accelerators/index.html">Accelerators</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../how-to-acknowledge.html">How to Acknowledge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../report-a-bug.html">Report a Bug</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">apolo-docs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">Software</a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Scientific Applications</a></li>
          <li class="breadcrumb-item"><a href="../index.html">SMOKE</a></li>
      <li class="breadcrumb-item active">SMOKE 4.8.1 Installation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/software/applications/SMOKE/4.8.1/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <aside class="sidebar">
<p class="sidebar-title">Contents</p>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#smoke-4-8-1-installation" id="id1">SMOKE 4.8.1 Installation</a></p>
<ul>
<li><p><a class="reference internal" href="#tested-on-requirements" id="id2">Tested on (Requirements)</a></p></li>
<li><p><a class="reference internal" href="#installation" id="id3">Installation</a></p></li>
<li><p><a class="reference internal" href="#create-a-directory-for-smoke-and-download-the-source-code" id="id4">Create a directory for SMOKE and download the source code</a></p></li>
<li><p><a class="reference internal" href="#install-smoke" id="id5">Install SMOKE</a></p></li>
<li><p><a class="reference internal" href="#references" id="id6">References</a></p></li>
</ul>
</li>
</ul>
</nav>
</aside>
<section id="smoke-4-8-1-installation">
<h1><a class="toc-backref" href="#id1" role="doc-backlink">SMOKE 4.8.1 Installation</a><a class="headerlink" href="#smoke-4-8-1-installation" title="Link to this heading"></a></h1>
<section id="tested-on-requirements">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Tested on (Requirements)</a><a class="headerlink" href="#tested-on-requirements" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><strong>OS base:</strong> Rocky Linux (x86_64) :math: <cite>boldsymbol{ge}</cite> 8.5</p></li>
<li><p><strong>Compiler:</strong> GCC 9.3.0</p></li>
<li><p><strong>Requirements:</strong></p></li>
<li><p>GCC = 9.3.0</p></li>
<li><p>MPICH = 3.4.2</p></li>
<li><p>Zlib = 1.2.11</p></li>
<li><p>Curl = 7.77.0</p></li>
<li><p>Netcdf-c disable netcdf-4 = 4.8.0</p></li>
<li><p>Netcdf-fortran = 4.5.3</p></li>
<li><p>Zstd = 1.5.2</p></li>
<li><p>ioapi = 3.2.1</p></li>
<li><p>tcsh</p></li>
</ul>
</section>
<section id="installation">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Installation</a><a class="headerlink" href="#installation" title="Link to this heading"></a></h2>
<p>This entry covers the entire process performed for the installation and configuration
of SMOKE 4.8.1 with a GCC compiler</p>
</section>
<section id="create-a-directory-for-smoke-and-download-the-source-code">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Create a directory for SMOKE and download the source code</a><a class="headerlink" href="#create-a-directory-for-smoke-and-download-the-source-code" title="Link to this heading"></a></h2>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>SMOKE
<span class="nb">cd</span><span class="w"> </span>SMOKE
wget<span class="w"> </span>https://github.com/CEMPD/SMOKE/releases/download/SMOKEv481_Jan2021/smoke_install_v481.csh
wget<span class="w"> </span>https://github.com/CEMPD/SMOKE/releases/download/SMOKEv481_Jan2021/smoke_v481.Linux2_x86_64ifort.tar.gz
wget<span class="w"> </span>https://github.com/CEMPD/SMOKE/releases/download/SMOKEv481_Jan2021/smoke_v481.nctox.data.tar.gz
</pre></div>
</div>
</div></blockquote>
</section>
<section id="install-smoke">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Install SMOKE</a><a class="headerlink" href="#install-smoke" title="Link to this heading"></a></h2>
<p>From this poin onwards all the commands given have to be executed with tcsh,
since SMOKE only works with tcsh.</p>
<p>Set your SMK_HOME directory for the installation and load libraries.</p>
<blockquote>
<div><div class="highlight-tcsh notranslate"><div class="highlight"><pre><span></span><span class="nb">setenv </span>SMK_HOME <span class="nv">$cwd</span>

module load gcc/9.3.0
module load mpich/3.4.2_gcc-9.3.0
module load zlib/1.2.11_gcc-9.3.0
module load curl/7.77.0_gcc-9.3.0
module load netcdf-fortran/4.5.3_gcc-9.3.0_disable-netcdf-4
</pre></div>
</div>
</div></blockquote>
<p>unzip all files with the provided script.</p>
<blockquote>
<div><div class="highlight-tcsh notranslate"><div class="highlight"><pre><span></span><span class="nb">source </span>smoke_install_v481.csh
</pre></div>
</div>
</div></blockquote>
<p>The script will point the possible problems that may arise.</p>
<p>Create the ioapi folder to make the symbolic link to the already compiled ioapi.</p>
<blockquote>
<div><div class="highlight-tcsh notranslate"><div class="highlight"><pre><span></span><span class="nb">cd </span>subsys

mkdir -p ioapi/ioapi

<span class="nb">cd </span>ioapi/ioapi

ln -s /home/&lt;user&gt;/ioapi/ioapi/* .
</pre></div>
</div>
</div></blockquote>
<p>After linking the ioapi folder, we need to link all the files in the Linux2_x86_64gfort folder.</p>
<blockquote>
<div><div class="highlight-tcsh notranslate"><div class="highlight"><pre><span></span>mkdir <span class="nv">$SMK_HOME</span>/subsys/ioapi/Linux2_x86_64gfort/

<span class="nb">cd</span> <span class="nv">$SMK_HOME</span>/subsys/ioapi/Linux2_x86_64gfort/

ln -s /home/&lt;user&gt;/ioapi/Linux2_x86_64gfort/* .
</pre></div>
</div>
</div></blockquote>
<p>After creating the links change the line 25 in of the file in the following path $SMK_HOME/subsys/smoke/assigns/ASSIGNS.nctox.cmaq.cb05_soa.us12-nc</p>
<blockquote>
<div><div class="highlight-tcsh notranslate"><div class="highlight"><pre><span></span>vim <span class="nv">$SMK_HOME</span>/subsys/smoke/assigns/ASSIGNS.nctox.cmaq.cb05_soa.us12-nc
</pre></div>
</div>
</div></blockquote>
<p>Change</p>
<blockquote>
<div><div class="highlight-tcsh notranslate"><div class="highlight"><pre><span></span><span class="nb">setenv </span>BIN    Linux2_x86_64ifort
</pre></div>
</div>
</div></blockquote>
<p>to</p>
<blockquote>
<div><div class="highlight-tcsh notranslate"><div class="highlight"><pre><span></span><span class="nb">setenv </span>BIN    Linux2_x86_64gfort
</pre></div>
</div>
</div></blockquote>
<p>so that the compilation uses the gfort compiler.</p>
<blockquote>
<div><div class="highlight-tcsh notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> <span class="nv">$SMK_HOME</span>/subsys/smoke/assigns/

<span class="nb">source </span>ASSIGNS.nctox.cmaq.cb05_soa.us12-nc
</pre></div>
</div>
</div></blockquote>
<p>Now we need to go to the build directory, open the Makeinclude file, comment lines 48 and 53, and uncomment lines 49 and 54</p>
<blockquote>
<div><div class="highlight-tcsh notranslate"><div class="highlight"><pre><span></span>vim <span class="nv">$SMK_HOME</span>/subsys/smoke/src/Makeinclude
</pre></div>
</div>
</div></blockquote>
<p>After that, compile.</p>
<blockquote>
<div><div class="highlight-tcsh notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> <span class="nv">$SMK_HOME</span>/subsys/smoke/src

make
</pre></div>
</div>
</div></blockquote>
<p>If everything is correctly configured and the necessary modules are loaded you will get two types of errors</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>error: enclosing ‘parallel’; With this error you should enter in the file where the error has occurred and before the error line, you should comment the line where it says default none with ‘c……………’.</p></li>
<li><p>error:can’t convert CHARACTER(1) TO INTEGER(4) at (1); in the error line where it says LFIP = ‘’ change the quotation marks by a zero.</p></li>
</ol>
</div></blockquote>
<p>After correcting the errors all executables should be created, and the compilation should be complete.</p>
</section>
<section id="references">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">References</a><a class="headerlink" href="#references" title="Link to this heading"></a></h2>
<dl class="simple">
<dt>SMOKE v4.8.1 User’s Manual</dt><dd><p><a class="reference external" href="https://www.cmascenter.org/smoke/documentation/4.8.1/manual_smokev481.pdf">https://www.cmascenter.org/smoke/documentation/4.8.1/manual_smokev481.pdf</a></p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<ul class="simple">
<li><p>Juan Diego Herrera &lt;<a class="reference external" href="mailto:jdherrera&#37;&#52;&#48;eafit&#46;edu&#46;co">jdherrera<span>&#64;</span>eafit<span>&#46;</span>edu<span>&#46;</span>co</a>&gt;</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../index.html" class="btn btn-neutral float-left" title="SMOKE" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../sparsehash/index.html" class="btn btn-neutral float-right" title="Google Sparsehash" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Creative Commons Attribution-NonCommercial 4.0 International License.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>


<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>REPET 2.5 &mdash; apolo-docs 0.1 documentation</title>
      <link rel="stylesheet" href="../../../../_static/css/theme_overrides.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/sidebar.css" type="text/css" />

  
      <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../../_static/documentation_options.js?v=2709fde1"></script>
      <script src="../../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="SAMtools" href="../../SAMtools/index.html" />
    <link rel="prev" title="REPET" href="../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

  
    <a href="../../../../index.html" class="icon icon-home"> apolo-docs
  

  
    </a>

    

    
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../gettingstarted/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../supercomputers/index.html">Supercomputers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">Software</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../virtualization/index.html">Virtualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../programminglanguages/index.html">Programming Languages</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">Scientific Applications</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../abyss/index.html">ABySS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ansys/index.html">ANSYS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../arcs/index.html">ARCS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../autoDock/index.html">AutoDock</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../autoDock_Vina/index.html">autoDock_Vina</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bayescan/index.html">BayeScan</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../BEAST2/index.html">BEAST2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../BLAST/index.html">BLAST</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../blat/index.html">BLAT</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bowtie2/index.html">bowtie2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Bpp/index.html">Bpp</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../BWA/index.html">BWA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../CDO/index.html">CDO</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../CHARMM/index.html">CHARMM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Calculix/index.html">Calculix</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../clustalw/index.html">Clustalw</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../crystal/index.html">crystal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../curl/index.html">Curl</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Cufflinks/index.html">Cufflinks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../delft3D/index.html">delft3D</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../DL_POLY_Classic/index.html">DL_POLY_Classic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../edge_pro/index.html">EDGE-pro</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../elmer/index.html">elmer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../fastQC/index.html">fastQC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../gamess/index.html">gamess</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../garli/index.html">garli</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../gatk4/index.html">GATK4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../gromacs/index.html">GROMACS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../gromacs-ls/index.html">GROMACS-LS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../gurobi/index.html">gurobi</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../iqtree/index.html">IQ-TREE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../kraken/index.html">Kraken</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ioapi/index.html">IOAPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lammps/index.html">LAMMPS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../leDock/index.html">leDock</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lePro/index.html">lePro</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../links/index.html">LINKS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lotos_euros/index.html">Lotos Euros</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../mafft/index.html">MAFFT</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../mdstress-lib/index.html">MDSTRESS-LIB</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../MedeA/index.html">MedeA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../mothur/index.html">Mothur</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../mpich/index.html">MPICH</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../mrBayes/index.html">mrBayes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../MUSCLE/index.html">MUSCLE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../namd/index.html">NAMD</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ncl/index.html">ncl</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../NCAR-ncl/index.html">NCAR NCL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../OpenFOAM/index.html">OpenFOAM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../openquake/index.html">OpenQuake</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../opensees/index.html">OpenSees</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ost/index.html">Openstructure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pargenes/index.html">ParGenes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../partitionFinder/index.html">Partition Finder</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../phylonet/index.html">PhyloNet</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../picrust2/index.html">PICRUSt2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pigz/index.html">Pigz</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../plumed/index.html">Plumed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../prank/index.html">Prank</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../prinseq-lite/index.html">Prinseq-lite</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pteros/index.html">Pteros</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../pyrad/index.html">pyrad</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../QE/index.html">QE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../qiime2/index.html">Qiime2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../raxml/index.html">RAxML</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../rDock/index.html">rDock</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">REPET</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="../index.html#versions">Versions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../SAMtools/index.html">SAMtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../SMOKE/index.html">SMOKE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sparsehash/index.html">Google Sparsehash</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../stacks/index.html">stacks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tigmint/index.html">Tigmint</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../topHat/index.html">TopHat</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../transabyss/index.html">Trans-ABySS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../transrate/index.html">Transrate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../trimmomatic/index.html">trimmomatic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../trinity/index.html">Trinity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../USPEX/index.html">USPEX</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../VASP/index.html">VASP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vmd/index.html">VMD</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vsearch/index.html">vsearch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../wps/index.html">Wps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../wrf/index.html">WRF</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../makedepf90/index.html">Makedepf90</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../Geant4/index.html">GEANT4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ROOT/index.html">ROOT</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../managementsoftware/index.html">Management Software</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../provisioning/index.html">Provisioning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../monitoring/index.html">Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../operatingsystems/index.html">Operating Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../scientific_libraries/index.html">Scientific Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../accelerators/index.html">Accelerators</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../how-to-acknowledge.html">How to Acknowledge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../report-a-bug.html">Report a Bug</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">apolo-docs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">Software</a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Scientific Applications</a></li>
          <li class="breadcrumb-item"><a href="../index.html">REPET</a></li>
      <li class="breadcrumb-item active">REPET 2.5</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/software/applications/repet/repet-2.5/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="repet-2-5">
<span id="repet-2-5-index"></span><h1><a class="toc-backref" href="#id1" role="doc-backlink">REPET 2.5</a><a class="headerlink" href="#repet-2-5" title="Link to this heading"></a></h1>
<nav class="contents" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#repet-2-5" id="id1">REPET 2.5</a></p>
<ul>
<li><p><a class="reference internal" href="#basic-information" id="id2">Basic information</a></p></li>
<li><p><a class="reference internal" href="#installation" id="id3">Installation</a></p></li>
<li><p><a class="reference internal" href="#usage" id="id4">Usage</a></p>
<ul>
<li><p><a class="reference internal" href="#examples" id="id5">Examples</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#recommended-resources" id="id6">Recommended resources</a></p></li>
<li><p><a class="reference internal" href="#authors" id="id7">Authors</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="basic-information">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Basic information</a><a class="headerlink" href="#basic-information" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><strong>Official Website:</strong> <a class="reference external" href="https://urgi.versailles.inra.fr/Tools/REPET">https://urgi.versailles.inra.fr/Tools/REPET</a></p></li>
<li><p><strong>License:</strong> CeCILL License 2.0</p></li>
<li><p><strong>Tested on</strong> CentOS (x86_64) ≥ 6.6 (Rocks 6.2)</p></li>
</ul>
</section>
<section id="installation">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Installation</a><a class="headerlink" href="#installation" title="Link to this heading"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Official installation instructions can be found in <a class="reference external" href="https://urgi.versailles.inra.fr/Tools/REPET/INSTALL">https://urgi.versailles.inra.fr/Tools/REPET/INSTALL</a>.</p>
</div>
<p>A detailed list of dependencies can be found at <a class="reference external" href="https://urgi.versailles.inra.fr/Tools/REPET/INSTALL#dependencies">https://urgi.versailles.inra.fr/Tools/REPET/INSTALL#dependencies</a>. Notice that every executable that is needed by REPET should be reachable from your PATH. Be aware that the cause of most of the errors when running REPET is due to the malfunction of a dependency.</p>
<p>The tar file containing REPET can be found <a class="reference external" href="https://urgi.versailles.inra.fr/Tools/REPET">here</a>. The compressed package already contains the binaries so there is no need to compile anything. Once you have uncompressed REPET and installed all the dependencies you should configure your environment so that every program needed is in your PATH. Also, you should configure the PYTHONPATH environment variable, so that every REPET python module is reachable.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">PYTHONPATH</span><span class="o">=</span><span class="nv">$REPET_HOME</span>
</pre></div>
</div>
<p>For more information on setting up your REPET environment, you should follow the guide provided at the beginning of the following web page: <a class="reference external" href="https://urgi.versailles.inra.fr/Tools/REPET/TEdenovo-tuto">https://urgi.versailles.inra.fr/Tools/REPET/TEdenovo-tuto</a>.</p>
<p>REPET needs a MySQL server, even though we chose MariaDB. Instructions to configure a MySQL server can be found on this <a class="reference external" href="https://dev.mysql.com/doc/refman/8.0/en/binary-installation.html">link</a>. You also need to create a database and a user for REPET:</p>
<div class="highlight-mysql notranslate"><div class="highlight"><pre><span></span><span class="c1"># tables engine must be MyISAM</span>
<span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">default_storage_engine</span><span class="o">=</span><span class="n">MYISAM</span><span class="p">;</span>

<span class="c1"># in order to avoid errors regarding character encoding</span>
<span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">DATABASE</span><span class="w"> </span><span class="n">database_name</span><span class="w"> </span><span class="k">CHARACTER</span><span class="w">  </span><span class="k">set</span><span class="w"> </span><span class="n">utf8</span><span class="w"> </span><span class="k">COLLATE</span><span class="w">  </span><span class="n">utf8_bin</span><span class="p">;</span>

<span class="c1"># create user and grant privileges on database</span>
<span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">CREATE</span><span class="w"> </span><span class="k">USER</span><span class="w"> </span><span class="s1">&#39;username&#39;</span><span class="nv">@&#39;hostname&#39;</span><span class="w"> </span><span class="k">IDENTIFIED</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="s1">&#39;password&#39;</span><span class="p">;</span>
<span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">GRANT</span><span class="w"> </span><span class="k">ALL</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">database_name</span><span class="p">.</span><span class="o">*</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="s1">&#39;username&#39;</span><span class="nv">@&#39;hostname&#39;</span><span class="p">;</span>
<span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">FLUSH</span><span class="w"> </span><span class="k">PRIVILEGES</span><span class="p">;</span>
</pre></div>
</div>
<p>Repet needs a working environment with some python modules installed:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># load REPET module</span>
$<span class="w"> </span>module<span class="w"> </span>load<span class="w"> </span>REPET

<span class="c1"># create a conda environment named env_name and install mysql-python, pyyaml as needed for REPET</span>
$<span class="w"> </span>conda<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>env_name<span class="w"> </span>mysql-python<span class="w"> </span>pyyaml
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>REPET module will load python/2.7.15_miniconda-4.5.4 automatically and will copy a RepeatMasker directory
into your home which you will have to configure as follow.</p>
</div>
<dl class="simple">
<dt>If you want to use REPET with RepeatMasker:</dt><dd><ul class="simple">
<li><p>The first time you run <code class="code highlight bash docutils literal highlight-bash">module<span class="w"> </span>load<span class="w"> </span>REPET</code> you will have to move into RepeatMasker directory and run <code class="code highlight bash docutils literal highlight-bash">perl<span class="w"> </span>./configure</code>.</p></li>
</ul>
</dd>
</dl>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$HOME</span>/RepeatMasker
$<span class="w"> </span>perl<span class="w"> </span>./configure
</pre></div>
</div>
<p>It will prompt you to enter the path for some applications. You should enter the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># perl path</span>
Enter<span class="w"> </span>path:<span class="w"> </span>env

<span class="c1"># RepeatMasker path</span>
Enter<span class="w"> </span>path:<span class="w"> </span>/home/&lt;your_username&gt;/RepeatMasker

<span class="c1"># TRF path</span>
Enter<span class="w"> </span>path:<span class="w"> </span>/share/apps/REPET/2.5/third_party/others/bin/

<span class="c1"># RMblast path</span>
Enter<span class="w"> </span>path:<span class="w"> </span>/share/apps/REPET/2.5/third_party/rmblast/2.9.0/bin/
</pre></div>
</div>
<ul class="simple">
<li><p>Be aware that RepeatMasker comes by default with the open Dfam database. If you want to use RepBase library you should copy the compressed version to RepeatMasker’s top directory and uncompress it from there. Then reconfigure RepeatMasker:</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>module<span class="w"> </span>load<span class="w"> </span>REPET
$<span class="w"> </span>cp<span class="w"> </span>RepBaseRepeatMaskerEdition-XXXXXXXX.tar.gz<span class="w"> </span><span class="nv">$HOME</span>/RepeatMasker/
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$HOME</span>/RepeatMasker
$<span class="w"> </span>gunzip<span class="w"> </span>RepBaseRepeatMaskerEdition-XXXXXXXX.tar.gz
$<span class="w"> </span>tar<span class="w"> </span>xvf<span class="w"> </span>RepBaseRepeatMaskerEdition-XXXXXXXX.tar
$<span class="w"> </span>rm<span class="w"> </span>RepBaseRepeatMaskerEdition-XXXXXXXX.tar
$<span class="w"> </span>perl<span class="w"> </span>./configure
</pre></div>
</div>
<ul class="simple">
<li><p>When you load REPET module the following script will be executed. It will loads the environment variables for every REPET dependency, and REPET itself. It also load the Python 2.7 module and GCC module.</p></li>
</ul>
<div class="highlight-tcl notranslate"><div class="highlight"><pre><span></span><span class="c">#%Module1.0####################################################################</span>
<span class="c">##</span>
<span class="c">## module load REPET 2.5</span>
<span class="c">##</span>
<span class="c">## /share/apps/modules/REPET/2.5</span>
<span class="c">## Written by Vincent Arcila</span>
<span class="c">##</span>

<span class="k">proc</span><span class="w"> </span>ModulesHelp<span class="w"> </span><span class="k">{}</span><span class="w"> </span><span class="k">{</span>
<span class="w">    </span><span class="k">global</span><span class="w"> </span>version<span class="w"> </span>modroot
<span class="w">    </span><span class="nb">puts</span><span class="w"> </span>stderr<span class="w"> </span><span class="s2">&quot;Sets the environment for using REPET\</span>
<span class="s2">          \nin the shared directory /share/apps/REPET/2.5&quot;</span>
<span class="k">}</span>

<span class="nv">module-whatis</span><span class="w"> </span><span class="s2">&quot;(Name________) REPET&quot;</span>
<span class="nv">module-whatis</span><span class="w"> </span><span class="s2">&quot;(Version_____) 2.5&quot;</span>
<span class="nv">module-whatis</span><span class="w"> </span><span class="s2">&quot;(System______) x86_64-redhat-linux&quot;</span>
<span class="nv">module-whatis</span><span class="w"> </span><span class="s2">&quot;(Interpreter_____) Python 2.7&quot;</span>

<span class="c"># for Tcl script use only</span>
<span class="k">set</span><span class="w">         </span>topdir<span class="w">        </span><span class="o">/</span>share<span class="o">/</span>apps<span class="o">/</span>REPET<span class="o">/</span><span class="mf">2.5</span>
<span class="k">set</span><span class="w">         </span>version<span class="w">       </span><span class="mf">2.5</span>
<span class="k">set</span><span class="w">         </span>sys<span class="w">           </span>x86_64-redhat-linux
<span class="k">set</span><span class="w">         </span>sourceDir<span class="w">     </span><span class="o">/</span>share<span class="o">/</span>apps<span class="o">/</span>REPET<span class="o">/</span><span class="mf">2.5</span><span class="o">/</span>third_party<span class="o">/</span>RepeatMasker<span class="o">/</span><span class="mf">1.332</span>
<span class="k">set</span><span class="w">         </span>targetDir<span class="w">     </span><span class="nv">$::env</span><span class="k">(</span><span class="nv">HOME</span><span class="k">)</span><span class="o">/</span>RepeatMasker

<span class="nv">conflict</span><span class="w"> </span>glibc

<span class="nv">module</span><span class="w"> </span>load<span class="w"> </span>gcc<span class="o">/</span><span class="mf">5.4</span>.0
<span class="nv">module</span><span class="w"> </span>load<span class="w"> </span>python<span class="o">/</span><span class="mf">2.7</span>.15_miniconda-4.5.4

<span class="k">if</span><span class="w"> </span><span class="k">{</span><span class="o">!</span><span class="w"> </span><span class="k">[</span><span class="nb">file</span><span class="w"> </span>exist<span class="w"> </span><span class="nv">$targetDir</span><span class="k">]}</span><span class="w"> </span><span class="k">{</span>
<span class="w">    </span><span class="nb">file</span><span class="w"> </span>mkdir<span class="w"> </span><span class="nv">$targetDir</span>
<span class="w">    </span><span class="k">foreach</span><span class="w"> </span>f<span class="w"> </span><span class="k">[</span><span class="nb">glob</span><span class="w"> </span><span class="o">-</span>directory<span class="w"> </span><span class="nv">$sourceDir</span><span class="w"> </span><span class="o">-</span>nocomplain<span class="w"> </span><span class="o">*</span><span class="k">]</span><span class="w"> </span><span class="k">{</span>
<span class="w">    </span><span class="nb">file</span><span class="w"> </span>copy<span class="w"> </span><span class="o">-</span>force<span class="w"> </span><span class="nv">$f</span><span class="w"> </span><span class="nv">$targetDir</span>
<span class="w">    </span><span class="k">}</span>
<span class="k">}</span>

<span class="nb">puts</span><span class="w"> </span>stderr<span class="w"> </span><span class="s2">&quot;NOTE: If this is the first time you load the module remember to move into</span>
<span class="s2">RepeatMasker&#39;s directory \nand execute the configuration script for RepeatMasker:</span>
<span class="s2">\n\n\t$ cd ::env(HOME)/RepeatMasker\n\t$ perl ./configure \n\nIf you want to configure</span>
<span class="s2">RepBase follow the instructions provided in: http://apolo-docs.readthedocs.io&quot;</span>

<span class="nv">prepend-path</span><span class="w">    </span>PATH<span class="w">                    </span><span class="nv">$targetDir</span>
<span class="nv">prepend-path</span><span class="w">    </span>PATH<span class="w">                    </span><span class="nv">$topdir</span><span class="o">/</span>REPET<span class="o">/</span>bin
<span class="nv">prepend-path</span><span class="w">    </span>PATH<span class="w">                    </span><span class="nv">$topdir</span><span class="o">/</span>third_party<span class="o">/</span>RepeatMasker<span class="o">/</span><span class="mf">1.332</span><span class="o">/</span>
<span class="nv">prepend-path</span><span class="w">    </span>PATH<span class="w">                    </span><span class="nv">$topdir</span><span class="o">/</span>third_party<span class="o">/</span>others<span class="o">/</span>bin
<span class="nv">prepend-path</span><span class="w">    </span>PATH<span class="w">                    </span><span class="nv">$topdir</span><span class="o">/</span>third_party<span class="o">/</span>genometools<span class="o">/</span><span class="mf">1.5</span>.9<span class="o">/</span>bin
<span class="nb">append</span><span class="o">-</span>path<span class="w">     </span>PATH<span class="w">                    </span><span class="nv">$topdir</span><span class="o">/</span>third_party<span class="o">/</span>blast<span class="o">/</span><span class="mf">2.2</span>.9<span class="o">/</span>bin
<span class="nb">append</span><span class="o">-</span>path<span class="w">     </span>PATH<span class="w">                    </span><span class="nv">$topdir</span><span class="o">/</span>third_party<span class="o">/</span>rmblast<span class="o">/</span><span class="mf">2.9</span>.0<span class="o">/</span>bin

<span class="nv">prepend-path</span><span class="w">    </span>LD_LIBRARY_PATH<span class="w">         </span><span class="nv">$topdir</span><span class="o">/</span>lib
<span class="nv">prepend-path</span><span class="w">    </span>LIBRARY_PATH<span class="w">            </span><span class="nv">$topdir</span><span class="o">/</span>lib
<span class="nv">prepend-path</span><span class="w">    </span>LD_RUN_PATH<span class="w">             </span><span class="nv">$topdir</span><span class="o">/</span>lib

<span class="nv">prepend-path</span><span class="w">    </span>LD_LIBRARY_PATH<span class="w">         </span><span class="nv">$topdir</span><span class="o">/</span>third_party<span class="o">/</span>genometools<span class="o">/</span><span class="mf">1.5</span>.9<span class="o">/</span>lib
<span class="nv">prepend-path</span><span class="w">    </span>LIBRARY_PATH<span class="w">            </span><span class="nv">$topdir</span><span class="o">/</span>third_party<span class="o">/</span>genometools<span class="o">/</span><span class="mf">1.5</span>.9<span class="o">/</span>lib
<span class="nv">prepend-path</span><span class="w">    </span>LD_RUN_PATH<span class="w">             </span><span class="nv">$topdir</span><span class="o">/</span>third_party<span class="o">/</span>genometools<span class="o">/</span><span class="mf">1.5</span>.9<span class="o">/</span>lib

<span class="nv">prepend-path</span><span class="w">    </span>PERL5LIB<span class="w">                </span><span class="nv">$topdir</span><span class="o">/</span>third_party<span class="o">/</span>RepeatMasker<span class="o">/</span><span class="mf">1.332</span>
<span class="nv">prepend-path</span><span class="w">    </span>PERL5LIB<span class="w">                </span><span class="nv">$topdir</span><span class="o">/</span>libexec

<span class="nv">prepend-path</span><span class="w">    </span>INCLUDE_PATH<span class="w">            </span><span class="nv">$topdir</span><span class="o">/</span>include
<span class="nv">prepend-path</span><span class="w">    </span>C_INCLUDE_PATH<span class="w">          </span><span class="nv">$topdir</span><span class="o">/</span>include
<span class="nv">prepend-path</span><span class="w">    </span>CXX_INCLUDE_PATH<span class="w">        </span><span class="nv">$topdir</span><span class="o">/</span>include

<span class="nv">setenv</span><span class="w">          </span>REPET_PATH<span class="w">              </span><span class="nv">$topdir</span><span class="o">/</span>REPET
<span class="nv">setenv</span><span class="w">          </span>PYTHONPATH<span class="w">              </span><span class="nv">$topdir</span><span class="o">/</span>REPET
</pre></div>
</div>
</section>
<section id="usage">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Usage</a><a class="headerlink" href="#usage" title="Link to this heading"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you don’t already have a MariaDB account contact the system administrator. Remember to ask for the database name and hostname for the MariaDB server.</p>
</div>
<p>In order to use REPET you should load REPET module and activate your Python environment:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>module<span class="w"> </span>load<span class="w"> </span>REPET

$<span class="w"> </span><span class="nb">source</span><span class="w"> </span>activate<span class="w"> </span>env_name
</pre></div>
</div>
<p>REPET’s main pipelines are TEdenovo and TEannot. Each of them has it’s specific guidelines and dependencies. REPET provides vast documentation for this pipelines: <a class="reference external" href="https://urgi.versailles.inra.fr/Tools/REPET/TEdenovo-tuto">https://urgi.versailles.inra.fr/Tools/REPET/TEdenovo-tuto</a>, <a class="reference external" href="https://urgi.versailles.inra.fr/Tools/REPET/TEannot-tuto">https://urgi.versailles.inra.fr/Tools/REPET/TEannot-tuto</a>.</p>
<p>REPET implements a module for using resource managers such as <a class="reference internal" href="../../../managementsoftware/slurm/index.html#slurm-index"><span class="std std-ref">SLURM</span></a> or TORQUE. It will use this module to send jobs to a queue. In order to manage SBATCH parameters, you will have to edit the configuration file for the pipeline you are using (e.g. TEdenovo.cfg). Each job has its own parameters, which can be specified as follows:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">resources</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">longjobs --partition=longjobs --time=03:00:00 --out=out.log --error=err.log</span>
</pre></div>
</div>
<p>This entry will make TEdenovo.py use ‘longjobs’ as the partition. The job will have 3 hours to finish. The job will redirect stdout to out.log and stderr to err.log.</p>
<p>The first word must be the partition where you want your job to be sent. Even though, you should specify the partition again using <code class="code docutils literal notranslate"><span class="pre">--partition=&lt;partition_name&gt;</span></code>. It is mandatory to specify the partition as well as the time for the job to finish.</p>
<p>If for some reason some step did not finish as expected and you do not get an error message, you should erase all data on jobs table, so REPET can use <a class="reference internal" href="../../../managementsoftware/slurm/index.html#slurm-index"><span class="std std-ref">SLURM</span></a> to launch jobs again:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># connect to your MariaDB server</span>
$<span class="w"> </span>mysql<span class="w"> </span>-u<span class="w"> </span>&lt;MariaDB_username&gt;<span class="w"> </span>-h<span class="w"> </span>&lt;MariaDB_server_hostname&gt;<span class="w"> </span>-p

<span class="c1"># select your database</span>
mysql&gt;<span class="w"> </span>USE<span class="w"> </span>&lt;your_database&gt;<span class="p">;</span>

<span class="c1"># erase all data in the table</span>
mysql&gt;<span class="w"> </span>TRUNCATE<span class="w"> </span>TABLE<span class="w"> </span>jobs<span class="p">;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If getting the following error: <strong>ERROR 1130 (HY000): Host ‘not.your.hostname.com’ is not allowed to connect to this MariaDB server</strong> you should try creating the user using the ip from which you will connect and then add “skip-name-resolve” to MariaDB configuration:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">[</span><span class="nv">mariadb</span><span class="p p-Indicator">]</span>
<span class="l l-Scalar l-Scalar-Plain">skip-name-resolve</span>
</pre></div>
</div>
</div>
<p>Also, be aware that almost all steps create a directory in which will be the output files from those specific steps. If your step failed, there will be the logs along with the files the step produced.</p>
<section id="examples">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Examples</a><a class="headerlink" href="#examples" title="Link to this heading"></a></h3>
<p><a class="reference internal" href="../../../managementsoftware/slurm/index.html#slurm-index"><span class="std std-ref">SLURM</span></a> scripts for REPET:</p>
<blockquote>
<div><ul>
<li><p>We provide the scripts and config files needed to run REPET on our cluster, you can download the examples:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference download internal" download="" href="../../../../_downloads/9b3e295cd64ee55641d4fcb3f16ba796/TEannot-example.zip"><code class="xref download docutils literal notranslate"><span class="pre">TEannot-example</span></code></a></p></li>
<li><p><a class="reference download internal" download="" href="../../../../_downloads/28d82c6e5517eb324e6ea677062a9213/TEdenovo-example.zip"><code class="xref download docutils literal notranslate"><span class="pre">TEdenovo-example</span></code></a></p></li>
</ul>
</div></blockquote>
</li>
<li><p>You should modify some values accordingly (e.g. you project name or MariaDB username on .cfg files).</p></li>
<li><p>This scripts are based on <a class="reference external" href="https://github.com/stajichlab/REPET-slurm">https://github.com/stajichlab/REPET-slurm</a>. More information on the usage for this scripts can be found there.</p></li>
</ul>
</div></blockquote>
</section>
</section>
<section id="recommended-resources">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Recommended resources</a><a class="headerlink" href="#recommended-resources" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p>A repository containing bash scripts to use REPET with SLURM: <a class="reference external" href="https://github.com/stajichlab/REPET-slurm">https://github.com/stajichlab/REPET-slurm</a>.</p></li>
<li><p>A REPET practical course: <a class="reference external" href="https://biosphere.france-bioinformatique.fr/wikia2/index.php/REPET_practical_course#Start_TEdenovo_pipeline">https://biosphere.france-bioinformatique.fr/wikia2/index.php/REPET_practical_course#Start_TEdenovo_pipeline</a>.</p></li>
<li><p>README from REPET: <a class="reference external" href="https://urgi.versailles.inra.fr/Tools/REPET/README">https://urgi.versailles.inra.fr/Tools/REPET/README</a>.</p></li>
<li><p>A extensive guide for our resource manager: <a class="reference internal" href="../../../managementsoftware/slurm/index.html#slurm-index"><span class="std std-ref">SLURM</span></a>.</p></li>
</ol>
</section>
<section id="authors">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Authors</a><a class="headerlink" href="#authors" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Vincent Alejandro Arcila Larrea (<a class="reference external" href="mailto:vaarcilal&#37;&#52;&#48;eafit&#46;edu&#46;co">vaarcilal<span>&#64;</span>eafit<span>&#46;</span>edu<span>&#46;</span>co</a>).</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../index.html" class="btn btn-neutral float-left" title="REPET" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../SAMtools/index.html" class="btn btn-neutral float-right" title="SAMtools" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Creative Commons Attribution-NonCommercial 4.0 International License.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>